include:
  - local: .gitlab/templates/dependencies.yml
  - local: .gitlab/templates/checkout_submodul.yml
  - local: .gitlab/templates/install_arm-none-eabi-gcc.yml
  - local: .gitlab/templates/check_installs.yml

static_code_test:
  stage: test
  script: 
  - apt-get update && apt-get install -y git
  - apt-get update && apt-get install -y wget
  - apt-get update && apt-get install -y xz-utils 
  - apt-get update && apt-get install -y gcc-arm-none-eabi
  - apt-get update && apt-get install -y build-essential
  - git submodule update --init --remote --recursive
  - wget -q https://developer.arm.com/-/media/Files/downloads/gnu/11.3.rel1/binrel/arm-gnu-toolchain-11.3.rel1-x86_64-arm-none-eabi.tar.xz
  - tar -xf arm-gnu-toolchain-11.3.rel1-x86_64-arm-none-eabi.tar.xz
  - GITHUB_PATH="$( cd $(git rev-parse --show-cdup); pwd)/arm-gnu-toolchain-11.3.rel1-x86_64-arm-none-eabi/bin"
  - arm-none-eabi-gcc -v
  - bash ./.stdc++-test.sh
  #- if [ "$flag" == "true" ]; then MODULE="demo1"; else MODULE="demo2"; fi